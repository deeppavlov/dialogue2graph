dialog2graph.metrics.no_llm_metrics
===================================

.. py:module:: dialog2graph.metrics.no_llm_metrics


Submodules
----------

.. toctree::
   :maxdepth: 1

   /autoapi/dialog2graph/metrics/no_llm_metrics/keys2graph/index
   /autoapi/dialog2graph/metrics/no_llm_metrics/metrics/index


Classes
-------

.. autoapisummary::

   dialog2graph.metrics.no_llm_metrics.DialogValidationResult
   dialog2graph.metrics.no_llm_metrics.DGTripletsMatchResult


Functions
---------

.. autoapisummary::

   dialog2graph.metrics.no_llm_metrics.are_paths_valid
   dialog2graph.metrics.no_llm_metrics.match_graph_triplets
   dialog2graph.metrics.no_llm_metrics.match_dg_triplets
   dialog2graph.metrics.no_llm_metrics.match_dialog_triplets
   dialog2graph.metrics.no_llm_metrics.match_roles
   dialog2graph.metrics.no_llm_metrics.is_correct_length
   dialog2graph.metrics.no_llm_metrics.is_same_structure


Package Contents
----------------

.. py:function:: are_paths_valid(G: dialog2graph.pipelines.core.graph.BaseGraph, dialogs: list[dialog2graph.pipelines.core.dialog.Dialog]) -> DialogValidationResult

   Check if all dialogs are valid paths in the graph.

   :param G: BaseGraph object containing the dialog graph
   :param dialogs: List of Dialog objects to check against

   :returns: for every dialog {"value": bool, "description": "description with dialog_id and list of pairs when there is no connection from one message to another"}
   :rtype: list


.. py:class:: DialogValidationResult

   Bases: :py:obj:`TypedDict`


   To return result of dialogs_are_valid_paths


   .. py:attribute:: value
      :type:  bool


   .. py:attribute:: invalid_transitions
      :type:  Optional[List[InvalidDialogTransition]]


.. py:function:: match_graph_triplets(G1: dialog2graph.pipelines.core.graph.BaseGraph, G2: dialog2graph.pipelines.core.graph.BaseGraph, change_to_original_ids=False)

   Match two graphs (G1 and G2) by:
     1) Checking isomorphism using NetworkX matchers (depending on whether it's DiGraph or MultiDiGraph).
     2) Building Jaccard similarity matrices for nodes and edges to refine the mapping.
     3) Potentially reverting mapped IDs to G1's original numbering if change_to_original_ids=True.

   :returns:     - node_mapping: which node in G1 corresponds to which node in G2
                 - edge_mapping: which edge in G1 corresponds to which edge in G2
   :rtype: node_mapping, edge_mapping (dict, dict)


.. py:function:: match_dg_triplets(G: dialog2graph.pipelines.core.graph.BaseGraph, dialogs: list[dialog2graph.pipelines.core.dialog.Dialog]) -> DGTripletsMatchResult

   Check if all graph triplets match triplets in set of dialogs.

   :param G: BaseGraph object containing the dialog graph
   :param dialogs: List of Dialog objects to check against


.. py:function:: match_dialog_triplets(s1: list[dialog2graph.pipelines.core.dialog.Dialog], s2: list[dialog2graph.pipelines.core.dialog.Dialog])

   Match triplets of two dialog sequences


.. py:class:: DGTripletsMatchResult

   Bases: :py:obj:`TypedDict`


   To return result of matching triplets between graph and dialogs


   .. py:attribute:: value
      :type:  bool


   .. py:attribute:: description
      :type:  Optional[str]


   .. py:attribute:: absent_triplets
      :type:  Optional[List[AbsentTriplet]]


.. py:function:: match_roles(D1: dialog2graph.pipelines.core.dialog.Dialog, D2: dialog2graph.pipelines.core.dialog.Dialog) -> bool

   Check if two dialogs have identical participant roles in each turn.

   :returns: True if they match in every turn, otherwise False.


.. py:function:: is_correct_length(D1: dialog2graph.pipelines.core.dialog.Dialog, D2: dialog2graph.pipelines.core.dialog.Dialog) -> bool

   Check if two dialogs have the same number of messages.

   :returns: True if lengths are equal, False otherwise.


.. py:function:: is_same_structure(G1: dialog2graph.pipelines.core.graph.BaseGraph, G2: dialog2graph.pipelines.core.graph.BaseGraph, sim_model=None) -> bool

   Check if graphs are isomorphic.

   :param G1: BaseGraph object containing the dialog graph
   :param G2: BaseGraph object containing the dialog graph


